# **Инструкция по ветвлениям**

## **Основные понятия**
* Ветка - это набор commit, которые идут друг за другом. У ветки есть название, основную ветку чаще всего называют master

* Другие ветки - это отдельное место для реализации нового функционала или исправление багов (ошибок) нашего проекта. То есть, с отдельной веткой вы делаете что угодно, а затем сливаете эти изменения в основную ветку master

*! Не рекомендую создавать commit напрямую в master . Лучше для этого заводить новую ветку и все изменения писать там.*

## **Основные команды**

Чтобы создать новую ветку вводим:
**git branch <название_ветки>**
или **git checkout -b <название_ветки>**
Эти команды делают то же самое, только второй вариант позволяет сразу переключиться в новую ветку. Вносить изменения в новую ветку можно сразу после ее создания.

*При создании новой ветки, старайтесь называть ее кратким и ёмким именем. Чтобы сразу было понятно, что именно изменялось по проекту. Если вы используете, какую-нибудь систему для ведения задач, то можете в начале названия ветки указывать ID задачи, чтобы можно было легко найти, на основе какой задачи была создана ветка. Например вот так: 3424_fix_catalog_ajax*

В каждом новом commit следует оставлять коммент и в нем описывать суть изменений.

**git checkout <название_ветки>** переключение между ветками.

После завершения работы над своей задачей ветку можно слить в master. Для этого нужно переключиться в ветку master и выполнить следующую команду:
**git checkout master** 

Обновляем локальную ветку с сервера
**git pull origin master**

Делаем merge вашей ветки в ветку, в которой вы находитесь **git merge <название_ветки>**

*❗️ Перед тем как сливать новый merge, стоит обновить локальную ветку master во избежании дальнейших проблем.*

Команда merge берет все изменения из ветки и добавляет их в ветку master.

Чтобы посмотреть текущее состояние ветки, например, какие файлы добавлены или не добавлены для создания commit, можно выполнить команду **git status**

Другие пользователи не увидят вашу ветку, пока она не будет отправлена на удаленный репозиторий. Поэтому, после того как вы слили все изменения в master , нужно отправить их в GitHub. Для этого обязательно нужно находиться в ветке master **git checkout master**

Отправляем наши изменения в GitHub
**git push origin master**

Таким же образом можно отправить любую другую ветку **git checkout <название_ветки>**

**git push origin <название_ветки>**

*! Каждый коммит лучше заливать сразу в удаленный репозиторий. Никто не застрахован от поломки собственного ПК. Поэтому, чтобы не потерять все наработки, не забывайте сливать ваши изменения на GitHub.*

## **Как опубликовать в GitHub**

*Если ваш проект пустой, как у меня, то создайте новый файл и назовите его index.html . После этого откроется окно редактирование этого файла. Напишите в нем ! и нажмите кнопку Tab . Автоматически должен сгенерироваться скелет пустой HTML страницы. Не забудьте нажать ctrl+s чтобы файл сохранился.*

*Давайте теперь перейдем во вкладу для работы с Git-ом.*

*После того, как выбрали "Опубликовать на GitHub публичный репозиторий", программа предложит вам выбрать файлы, которые будут входить в первый commit. Проставляем галочки у всех файлов, если не проставлены и жмем ОК . Вас перекинет на сайт GitHub, где нужно будет подтвердить вход в аккаунт. Вы создали и опубликовали репозиторий на GitHub.*

*Если вы хотите создать локальный репозиторий и опубликовать код в другой сервис, то необходимо нажать на кнопку Initialize Repository . После этого, вручную выбрать сервис куда публиковать.*


### *Теперь сделаем изменения в коде и попробуем их снова опубликовать. Перейдите во вкладку с файлами, отредактируйте какой-нибудь файл, не забудьте нажать crtl+s (Windows) или cmd+s (MacOS), чтобы сохранить файл. Вернитесь обратно во вкладу управления Git. Если посмотреть на значок вкладки Git, то можно увидеть цифру 1 в синем кружке. Она означает, сколько файлов у нас изменено и незакоммичено. Давайте его закоммитим и опубликуем:*

*1. Кнопка для просмотра изменений в файле. Необязательно нажимать, указал для справки*

*2. Добавляем наш файл для будущего commit*

*3. Пишем комментарий*

*4. Создаем commit*

*5. Отправляем наш commit в GitHub*

## **Как скачать с GitHub**

Если у вашего друга раньше не было проекта, то ему придется его "клонировать" себе: **git clone <адрес_репозитория>**

*! Адрес репозитория на GitHub можно получить, нажав на зеленую кнопку Code*

После выполнения команды в папке, где появится проект и ваш друг сможет с ним работать, все ветки и их история также подтянутся.

Перед тем, как создавать новый функционал и новую ветку, стоит обновить master на вашем устройстве. Для этого нужно находиться в этой ветке и выполнить следующую команду **git checkout master**

Подтягиваем изменения из репозитория GitHub **git pull origin master**

Таким же образом можно актуализировать любую другую ветку, заменив название ветки master на вашу.

*! Для обновления всех веток сразу, можно использовать такую, команду, но не рекомендую **git pull***

Теперь можно создавать новую ветку и кодить.

## **Конфликты**
Иногда возникают конфликты. Например, когда в двух ветках были изменения в одной и той же строчке кода. Если такое произошло, то необходимо разрешить конфликт вручную. Для этого откройте файл там, где этого произошло. 
<Конфликты - это плохо>
![давайте жить дружно!](conf.jpg)

Тут попробуем организовать конфликт. Это версия для ветки master. Запускаем вторую попытку. Вторая попытка с веткой conflicts прошла успешно.
Не нравится конфликтовать, но на что только ни пойдешь ради своего саморазвития))

После внесения нужных изменений добавьте ваш файл через **git add <имя_файла>** как измененный и создайте новый commit.

### Вспомогательные команды
Просмотреть изменения относительно двух веток можно командой **git diff <исходная_ветка> <целевая_ветка>**

Удалить ненужную ветку **git branch -d <название_ветки>**

Просмотр истории ветки **git log**

## Подсказки по популярным командам:

**git help**

по конкретной команде
**git help <название_команды>**.
Например, clone: git help clone